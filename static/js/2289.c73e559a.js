(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[2289],{62940:function(t,e,n){var r=n(35364);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var i=n(34161).A;i("4732fa51",r,!0,{sourceMap:!1,shadowMode:!1})},12289:function(t,e,n){"use strict";var r;n.d(e,{A:function(){return B}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"sticky",staticClass:"press-sticky",class:t.customClass,style:t.containerStyle},[n("div",{class:t.wrapClass,style:t.wrapStyle},[t._t("default")],2)])])},o=[],s=n(84291),c=n(87458),l=(n(91911),n(26527),n(41681),n(62980),n(36389),n(46825),n(77020),n(73251)),a=n(25721),u=n(42210);function f(t){return(0,a.iF)({height:t.fixed?(0,u._V)(t.height):"","z-index":t.zIndex})}function d(t){return(0,a.iF)({transform:t.transform?"translate3d(0, ".concat(t.transform,"px, 0)"):"",top:t.fixed?(0,u._V)(t.offsetTop):"","z-index":t.zIndex})}var h={containerStyle:f,wrapStyle:d},p=n(51115),v=n(86195),g=n(68677);n(9555),n(30381);function w(){var t=getCurrentPages();return t[t.length-1]}function m(t){var e=w(),n=e.pressPageScroller,r=void 0===n?[]:n;r.forEach((function(e){"function"===typeof e&&e(t)}))}var y,x=function(t){return{created:function(){var e=w();(0,g.C8)(e)&&(Array.isArray(e.pressPageScroller)?e.pressPageScroller.push(t.bind(this)):e.pressPageScroller="function"===typeof e.onPageScroll?[e.onPageScroll.bind(e),t.bind(this)]:[t.bind(this)],e.onPageScroll=m)},destroy:function(){var e,n=w();(0,g.C8)(n)&&(n.pressPageScroller=(null===(e=n.pressPageScroller)||void 0===e?void 0:e.filter((function(e){return e!==t})))||[])}}},S=n(29851),T=n(6140),b=n(34398),D=n(12627)["A"],A=".press-sticky",C=(x((function(t){null===this.scrollTop&&this.onScroll(t)})),{name:"PressSticky",options:(0,c.A)({},b.KQ),mixins:[(0,S.x)((function(t){this.scroller||(this.scroller=(0,T.Rm)(this.$el)),t(this.scroller,"scroll",this.onScroll,!0),t(this.scroller,"touchmove",this.onScroll,!0),this.onScroll()}))],props:(0,c.A)((0,c.A)({},b.Gs),{},{zIndex:{type:Number,default:99},offsetTop:{type:Number,default:0},disabled:{type:Boolean},container:{type:[Function,null],default:null},scrollTop:{type:[Number,null],default:null}}),emits:["scroll"],data:function(){return{height:0,fixed:!1,transform:0,scrollTopData:this.scrollTop}},computed:{containerStyle:function(){var t=this.fixed,e=this.height,n=this.zIndex,r=h.containerStyle({fixed:t,height:e,zIndex:n});return r},wrapStyle:function(){var t=this.fixed,e=this.offsetTop,n=this.transform,r=this.zIndex,i=h.wrapStyle({fixed:t,offsetTop:e,transform:n,zIndex:r});return i},wrapClass:function(){var t=this.fixed;return l.Ay.bem2("sticky-wrap",{fixed:t})}},watch:{offsetTop:{handler:function(){this.onScroll()}},disabled:{handler:function(){this.onScroll()}},container:{handler:function(){this.onScroll()}},scrollTop:{handler:function(t){this.onScroll({scrollTop:t}),this.scrollTopData=t}}},created:function(){},mounted:function(){this.scrollTopData=this.scrollTop,this.onScroll()},methods:{setData:function(t){var e=this;Object.keys(t).forEach((function(n){e[n]=t[n]}))},onScroll:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scrollTop,r=this.container,i=this.offsetTop,o=this.disabled;o?this.setDataAfterDiff({fixed:!1,transform:0}):(this.scrollTopData=n||this.scrollTopData,"function"===typeof r&&r()?Promise.all([(0,p.l)(this,A),this.getContainerRect()]).then((function(e){var n=(0,s.A)(e,2),r=n[0],o=n[1];r&&o&&i+r.height>o.height+o.top?t.setDataAfterDiff({fixed:!1,transform:o.height-r.height}):r&&i>=r.top?t.setDataAfterDiff({fixed:!0,height:r.height,transform:0}):t.setDataAfterDiff({fixed:!1,transform:0})})).catch((function(t){D.warn("error",t)})):(0,p.l)(this,A).then((function(e){(0,g.C8)(e)&&(i>=e.top?(t.setDataAfterDiff({fixed:!0,height:e.height}),t.transform=0):t.setDataAfterDiff({fixed:!1}))})))},setDataAfterDiff:function(t){var e=this;(0,v.dY)((function(){var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&(n[r]=t[r]),n}),{});Object.keys(n).length>0&&e.setData(n),e.$emit("scroll",{scrollTop:e.scrollTopData,isFixed:t.fixed||e.fixed})}))},getContainerRect:function(){var t,e=this.container(),n=e.getBoundingClientRect();return t=Promise.resolve(n),t}}}),P=C,k=(n(62940),n(13955)),_=(0,k.A)(P,i,o,!1,null,"3b845bcf",null,!1,r,y),B=_.exports},51115:function(t,e,n){"use strict";n.d(e,{Hj:function(){return a},KY:function(){return f},No:function(){return c},ZA:function(){return l},l:function(){return u}});var r=n(98196),i=(n(83603),n(62980),n(11034),n(6140)),o=n(73251),s=n(86195);function c(){if((0,o.n1)()){var t=Math.min(window.innerWidth,document.documentElement.clientWidth,screen.width),e=Math.min(window.innerHeight,document.documentElement.clientHeight,screen.height);return{windowWidth:t,windowHeight:e,windowTop:0,windowBottom:0}}var n=uni.getSystemInfoSync(),r=n.windowWidth,i=n.windowHeight,s=n.windowTop,c=n.windowBottom;return{windowWidth:r,windowHeight:i,windowTop:s,windowBottom:c}}function l(){if((0,o.n1)())return 0;var t=(0,s.j5)(),e=t.statusBarHeight;return e}function a(t,e){return new Promise((function(n){var r=(0,i.JP)(e),o=t.$el;if(o){var s=o.querySelector(r);return s||n({}),void n({scrollHeight:s.scrollHeight,scrollTop:s.scrollTop})}uni.createSelectorQuery().in(t).select(r).fields({scrollOffset:!0},(function(t){n(t)})).exec()}))}function u(t,e){return new Promise((function(n){var r=t.$el;if(r){var i=r.querySelector(e);i||n({});var o=i.getBoundingClientRect();n(o)}else uni.createSelectorQuery().in(t).select(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n(t[0])}))}))}function f(t,e){return new Promise((function(n){var i=t.$el;if(i){var o=i.querySelectorAll(e),s=(0,r.A)(o).map((function(t){return t.getBoundingClientRect()}));n(s)}else uni.createSelectorQuery().in(t).selectAll(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(t[0])}))}))}},6140:function(t,e,n){"use strict";n.d(e,{JP:function(){return s},Rm:function(){return i},hY:function(){return o}});n(11034),n(65083),n(92031);var r=/scroll|auto|overlay/i;function i(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e){var i=window.getComputedStyle(n),o=i.overflowY;if(r.test(o))return n;n=n.parentNode}return e}function o(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function s(t){var e=t;return t.startsWith("#")||(e="#".concat(t)),e="".concat(e," > .uni-scroll-view > .uni-scroll-view"),e}},29851:function(t,e,n){"use strict";n.d(e,{x:function(){return o}});var r=n(93557),i=0;function o(t){var e="binded_".concat(i);function n(){var n=this;n[e]||(t.call(n,r.on,!0),n[e]=!0)}function o(){var n=this;n[e]&&(t.call(n,r.AU,!1),n[e]=!1)}return i+=1,{mounted:n,activated:n,deactivated:o,beforeDestroy:o}}},35364:function(t,e,n){"use strict";n.r(e);var r=n(9157),i=n.n(r),o=n(82294),s=n.n(o),c=s()(i());c.push([t.id,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.press-sticky[data-v-3b845bcf]{position:relative}.press-sticky-wrap--fixed[data-v-3b845bcf]{position:fixed;right:0;left:0}',""]),e["default"]=c}}]);