(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[579],{14080:function(t,n,e){var r=e(14712);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var o=e(34161).A;o("50f66de5",r,!0,{sourceMap:!1,shadowMode:!1})},62694:function(t,n,e){var r=e(63022);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var o=e(34161).A;o("09668ff7",r,!0,{sourceMap:!1,shadowMode:!1})},68917:function(t,n,e){"use strict";var r;e.r(n),e.d(n,{default:function(){return Y}});var o,i,a,s,c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"demo-wrap",style:t.wrapStyle},[e("press-index-bar",{attrs:{"sticky-offset-top":t.stickyOffsetTop,"window-top":44},on:{select:function(n){arguments[0]=n=t.$handleEvent(n),t.onSelect.apply(void 0,arguments)}}},t._l(t.anchorList,(function(n,r){return e("div",{key:r},[e("press-index-anchor",{attrs:{index:n}}),e("press-cell",{attrs:{title:t.t("text")}}),e("press-cell",{attrs:{title:t.t("text")}}),e("press-cell",{attrs:{title:t.t("text")}})],1)})),0)],1)},l=[],d=(e(30381),e(17852)),u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"press-index-bar-container"},[e("v-uni-scroll-view",{staticClass:"press-index-bar-wrapper",attrs:{id:"pressIndexBarWrapper",enhanced:!0,"scroll-with-animation":!1,"scroll-y":!0,"scroll-top":t.curScrollTop},on:{scroll:function(n){arguments[0]=n=t.$handleEvent(n),t.onWatchScroll.apply(void 0,arguments)}}},[e("div",{staticClass:"press-index-bar"},[t._t("default")],2)]),t.showSidebar?e("div",{staticClass:"press-index-bar__sidebar",on:{click:function(n){n.stopPropagation(),n.preventDefault(),arguments[0]=n=t.$handleEvent(n),t.onClick.apply(void 0,arguments)},touchmove:function(n){n.stopPropagation(),n.preventDefault(),arguments[0]=n=t.$handleEvent(n),t.onTouchMove.apply(void 0,arguments)},touchend:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.onTouchStop.apply(void 0,arguments)},touchcancel:function(n){n.stopPropagation(),n.preventDefault(),arguments[0]=n=t.$handleEvent(n),t.onTouchStop.apply(void 0,arguments)}}},t._l(t.indexList,(function(n,r){return e("div",{key:r,staticClass:"press-index-bar__index",style:"z-index: "+(t.zIndex+1)+"; color: "+(t.activeAnchorIndex===r?t.highlightColor:""),attrs:{"data-index":r},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.onClickInner.apply(void 0,arguments)}}},[t._v(t._s(n))])})),0):t._e()],1)},h=[],f=e(87458),p=(e(60989),e(46686),e(83603),e(26527),e(41681),e(62980),e(36096),e(36389),e(46825),e(77020),e(41208)),v=e(86907),x=e(91893),g=e(70990),b=e(83592),m=e(64652),y=e(15523),T=e(56357),A=e(84831),w=e(12627)["A"],S=function(){for(var t=[],n="A".charCodeAt(0),e=0;e<26;e++)t.push(String.fromCharCode(n+e));return t},k={name:"PressIndexBar",options:(0,f.A)((0,f.A)({},g.KQ),{},{styleIsolation:"shared"}),mixins:[(0,T.G)(b.i0),A.G],props:(0,f.A)({sticky:{type:Boolean,default:!0},zIndex:{type:Number,default:1},highlightColor:{type:String,default:p.AV},stickyOffsetTop:{type:Number,default:0},indexList:{type:Array,default:function(){return S()}},windowTop:{type:Number,default:0}},g.Gs),emits:["select"],data:function(){return{activeAnchorIndex:null,showSidebar:!1,sidebar:{},curScrollTop:0}},created:function(){this.scrollTop=0,this.children=[]},mounted:function(){this.updateData()},methods:{setData:function(t){var n=this;Object.keys(t).forEach((function(e){n[e]=t[e]}))},updateData:function(){var t=this;(0,y.dY)((function(){null!=t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){t.showSidebar=!!t.children.length,(0,y.dY)((function(){t.setRect().then((function(){t.onScroll()}))}))}),0)}))},setRect:function(){return Promise.all([this.setAnchorsRect(),this.setListRect(),this.setSiderbarRect()])},setAnchorsRect:function(){var t=this;return Promise.all(this.children.map((function(n){return(0,v.l)(n,".press-index-anchor-wrapper").then((function(e){return Object.assign(n,{height:e.height,top:e.top+t.scrollTop}),n}))})))},setListRect:function(){var t=this;return(0,v.l)(this,".press-index-bar").then((function(n){(0,x.C8)(n)&&Object.assign(t,{height:n.height,top:n.top+t.scrollTop})}))},setSiderbarRect:function(){var t=this;return(0,v.l)(this,".press-index-bar__sidebar").then((function(n){(0,x.C8)(n)&&(t.sidebar={height:n.height,top:n.top})}))},setDiffData:function(t){var n=t.target,e=t.data,r={};Object.keys(e).forEach((function(t){n[t]!==e[t]&&(r[t]=e[t])})),Object.keys(r).length&&n.setData(r)},getAnchorRect:function(t){return(0,v.l)(t,".press-index-anchor-wrapper").then((function(t){return{height:t.height,top:t.top}}))},getActiveAnchorIndex:function(){for(var t=this.children,n=this.scrollTop,e=this.sticky,r=this.stickyOffsetTop,o=this.children.length-1;o>=0;o--){var i=o>0?t[o-1].height:0,a=e?i+r:this.stickyOffsetTop;if(a+n>=t[o].top)return o}return-1},onScroll:function(t){var n=this;t&&(t.target||t.detail)&&(this.scrollTop=t.target.scrollTop||t.detail.scrollTop);var e=this.children,r=void 0===e?[]:e,o=this.scrollTop;if(r.length){var i=this.sticky,a=this.stickyOffsetTop,s=this.zIndex,c=this.highlightColor,l=this.getActiveAnchorIndex();if(this.setDiffData({target:this,data:{activeAnchorIndex:l}}),i){var d=!1;-1!==l&&(d=r[l].top<=a+o),r.forEach((function(t,e){if(e===l){var o="",i="\n              color: ".concat(c,";\n            ");d&&(o="\n                height: ".concat(r[e].height,"px;\n              "),i="\n                position: fixed;\n                top: ".concat(a,"px;\n                z-index: ").concat(s,";\n                color: ").concat(c,";\n              ")),n.setDiffData({target:t,data:{active:!0,anchorStyle:i,wrapperStyle:o}})}else if(e===l-1){var u=r[e],h=u.top,f=e===r.length-1?n.top:r[e+1].top,p=f-h,v=p-u.height,x="\n              position: relative;\n              transform: translate3d(0, ".concat(v,"px, 0);\n              z-index: ").concat(s,";\n              color: ").concat(c,";\n            ");n.setDiffData({target:t,data:{active:!0,anchorStyle:x}})}else n.setDiffData({target:t,data:{active:!1,anchorStyle:"",wrapperStyle:""}})}))}}},onClick:function(){},onTouchMove:function(t){var n,e=this.children.length,r=t.touches[0],o=this.sidebar.height/e;w.log("[onTouchMove]",r.clientY,this.sidebar.top,this.top),n=Math.floor((r.clientY+this.windowTop-this.sidebar.top)/o),w.log("[onTouchMove]",n),n<0?n=0:n>e-1&&(n=e-1),this.scrollToAnchor(n)},onTouchStop:function(){this.scrollToAnchorIndex=null},scrollToAnchor:function(t){var n=this;if("number"===typeof t&&this.scrollToAnchorIndex!==t){this.scrollToAnchorIndex=t;var e=this.children.find((function(e){return e.index===n.indexList[t]}));void 0!==e&&(w.log("[scrollTop]",this.scrollTop),e.scrollIntoView(this.scrollTop,this.changeScrollerTop),this.$emit("select",e.index))}},onClickInner:function(t){var n,e=null===(n=t.currentTarget)||void 0===n||null===(n=n.dataset)||void 0===n?void 0:n.index;void 0!==e&&(w.log("[index]",e,this.indexList),this.scrollToAnchor(+e))},onWatchScroll:function(t){this.onScroll(t)},changeScrollerTop:function(t){var n,e=(0,m.JP)("pressIndexBarWrapper");w.log("[changeScrollerTop] top",t);var r=null===(n=document)||void 0===n?void 0:n.querySelector(e);r&&(r.scrollTop=t)}}},_=k,I=(e(62694),e(13955)),C=(0,I.A)(_,u,h,!1,null,"5f7d7096",null,!1,o,i),D=C.exports,O=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"press-index-anchor-wrapper",style:t.wrapperStyle},[e("div",{class:"press-index-anchor "+(t.active?"press-index-anchor--active press-hairline--bottom":""),style:t.anchorStyle},[t.useSlot?t._t("default"):[e("span",[t._v(t._s(t.index))])]],2)])])},R=[],E={name:"PressIndexAnchor",options:(0,f.A)((0,f.A)({},g.KQ),{},{styleIsolation:"shared"}),mixins:[(0,T.b)(b.i0,{indexKey:"tIndex"})],props:(0,f.A)({useSlot:Boolean,index:{type:[Number,String],default:""}},g.Gs),emits:[],data:function(){return{active:!1,wrapperStyle:"",anchorStyle:""}},methods:{setData:function(t){var n=this;Object.keys(t).forEach((function(e){n[e]=t[e]}))},scrollIntoView:function(t,n){var e=this;(0,v.l)(this,".press-index-anchor-wrapper").then((function(r){var o=t+r.top-e[b.i0].stickyOffsetTop;null===n||void 0===n||n(o)}))}}},$=E,z=(e(14080),(0,I.A)($,O,R,!1,null,"1f2cebfa",null,!1,a,s)),M=z.exports,P=e(12627)["A"];function B(){for(var t=[],n=65;n<91;n++)t.push(String.fromCharCode(n));return t}var L,j=B(),G={i18n:{"zh-CN":{text:"文本",customIndexList:"自定义索引列表"},"en-US":{text:"Text",customIndexList:"Custom Index List"}},components:{PressCell:d.A,PressIndexBar:D,PressIndexAnchor:M},data:function(){var t="",n=0;return n=44,{anchorList:j,wrapStyle:t,stickyOffsetTop:n}},mounted:function(){},methods:{onSelect:function(t){P.log("[onSelect]: ",t)}}},N=G,U=(0,I.A)(N,c,l,!1,null,"575ff4b8",null,!1,r,L),Y=U.exports},41208:function(t,n,e){"use strict";e.d(n,{AV:function(){return a},Jl:function(){return c},UE:function(){return i},UH:function(){return r},ft:function(){return o},mR:function(){return s}});var r="#ee0a24",o="#1989fa",i="#fff",a="#07c160",s="#323233",c="#969799"},83592:function(t,n,e){"use strict";e.d(n,{U6:function(){return u},W9:function(){return c},ZC:function(){return o},eJ:function(){return l},ho:function(){return a},i0:function(){return d},ib:function(){return s},j_:function(){return h},kN:function(){return i},q1:function(){return f},zI:function(){return r}});var r="checkboxGroup",o="collapse",i="picker",a="radioGroup",s="sidebar",c="tabbar",l="tabs",d="indexBar",u="grid",h="dropdown-menu",f="row"},56357:function(t,n,e){"use strict";e.d(n,{b:function(){return c},G:function(){return l}});var r=e(98196),o=e(21572);e(60989),e(9555),e(63051),e(62980),e(83603),e(30381),e(41669),e(46825);function i(t){var n=[];function e(t){t.forEach((function(t){n.push(t),t.componentInstance&&e(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&e(t.children)}))}return e(t),n}function a(t,n){var e=n.$vnode.componentOptions;if(null!==e&&void 0!==e&&e.children){var r=i(e.children);t.sort((function(t,n){return r.indexOf(t.$vnode)-r.indexOf(n.$vnode)}))}}var s=e(12627)["A"];function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.indexKey||"index";return{inject:(0,o.A)({},t,{default:null}),computed:(0,o.A)({},e,(function(){var n=this;return n.bindRelation(),n[t]?n[t].children.indexOf(this):null})),watch:{disableBindRelation:function(t){var n=this;t||n.bindRelation()}},created:function(){},mounted:function(){var t=this;t.bindRelation()},beforeDestroy:function(){var t=this;t.onBeforeMount()},methods:{bindRelation:function(){if(this[t]&&-1===this[t].children.indexOf(this)){var n=[].concat((0,r.A)(this[t].children),[this]);try{a(n,this[t])}catch(e){s.log("err",e)}this[t].children=n}},onBeforeMount:function(){var n,e=this;e[t]&&(e[t].children=e[t].children.filter((function(t){return t!==e})),null===e||void 0===e||null===(n=e.destroyCallback)||void 0===n||n.call(e))}}}}function l(t){return{provide:function(){return(0,o.A)({},t,this)},data:function(){return{}}}}},14712:function(t,n,e){"use strict";e.r(n);var r=e(9157),o=e.n(r),i=e(82294),a=e.n(i),s=a()(o());s.push([t.id,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.press-hairline--bottom[data-v-1f2cebfa]{position:relative}.press-hairline--bottom[data-v-1f2cebfa]:after{border:0 solid #ebedf0;bottom:-50%;box-sizing:border-box;content:" ";left:-50%;pointer-events:none;position:absolute;right:-50%;top:-50%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:center;transform-origin:center;border-bottom-width:1px}\n/* color */.press-index-anchor[data-v-1f2cebfa]{padding:var(--index-anchor-padding,0 16px);color:var(--index-anchor-text-color,#323233);font-weight:var(--index-anchor-font-weight,500);font-size:var(--index-anchor-font-size,14px);line-height:var(--index-anchor-line-height,32px);background-color:var(--index-anchor-background-color,transparent)}.press-index-anchor--active[data-v-1f2cebfa]{right:0;left:0;color:var(--index-anchor-active-text-color,#07c160);background-color:var(--index-anchor-active-background-color,#fff)}',""]),n["default"]=s},63022:function(t,n,e){"use strict";e.r(n);var r=e(9157),o=e.n(r),i=e(82294),a=e.n(i),s=a()(o());s.push([t.id,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* color */.press-index-bar-container[data-v-5f7d7096],\n.press-index-bar-wrapper[data-v-5f7d7096]{height:100%}.press-index-bar[data-v-5f7d7096]{position:relative}.press-index-bar__sidebar[data-v-5f7d7096]{position:fixed;top:50%;right:0;display:flex;flex-direction:column;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;user-select:none}.press-index-bar__index[data-v-5f7d7096]{font-weight:500;padding:0 var(--padding-base,4px) 0 var(--padding-md,16px);font-size:var(--index-bar-index-font-size,10px);line-height:var(--index-bar-index-line-height,14px)}',""]),n["default"]=s}}]);