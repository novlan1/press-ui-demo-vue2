(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[3015],{25921:function(t,o,i){var e=i(94480);e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.id,e,""]]),e.locals&&(t.exports=e.locals);var s=i(69898).A;s("0170e5cf",e,!0,{sourceMap:!1,shadowMode:!1})},35360:function(t,o,i){var e=i(56227);e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.id,e,""]]),e.locals&&(t.exports=e.locals);var s=i(69898).A;s("e9e9318c",e,!0,{sourceMap:!1,shadowMode:!1})},95429:function(t,o,i){"use strict";var e;i.r(o),i.d(o,{default:function(){return S}});var s,n,c,a=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"demo-wrap"},[i("demo-block",{attrs:{title:t.t("basicUsage")}},[i("PressCell",{attrs:{title:t.t("toggleDirection"),"is-link":!0},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.switchBtn(0)}}}),i("PressCell",{attrs:{title:t.t("changeColor"),"is-link":!0},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.switchColor.apply(void 0,arguments)}}})],1),i("PressFab",{ref:"fabRef",attrs:{pattern:t.pattern,content:t.content,horizontal:t.horizontal,vertical:t.vertical,direction:t.direction},on:{trigger:function(o){arguments[0]=o=t.$handleEvent(o),t.trigger.apply(void 0,arguments)},fabClick:function(o){arguments[0]=o=t.$handleEvent(o),t.fabClick.apply(void 0,arguments)}}}),i("PressFab",{attrs:{"init-x":t.slotInitX},on:{fabClick:function(o){arguments[0]=o=t.$handleEvent(o),t.fabClickSlot.apply(void 0,arguments)}}},[i("span",{staticClass:"debug"},[t._v("OK")])])],1)},r=[],l=(i(174),function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"press-cursor-point"},[t.popMenu&&(t.leftBottom||t.rightBottom||t.leftTop||t.rightTop)&&t.content.length>0?i("div",{staticClass:"press-fab",class:{"press-fab--leftBottom":t.leftBottom,"press-fab--rightBottom":t.rightBottom,"press-fab--leftTop":t.leftTop,"press-fab--rightTop":t.rightTop},style:{right:t.btnSwitchPos.x+"px",bottom:t.btnSwitchPos.y+"px"}},[i("div",{staticClass:"press-fab__content",class:{"press-fab__content--left":"left"===t.horizontal,"press-fab__content--right":"right"===t.horizontal,"press-fab__content--flexDirection":"vertical"===t.direction,"press-fab__content--flexDirectionStart":t.flexDirectionStart,"press-fab__content--flexDirectionEnd":t.flexDirectionEnd,"press-fab__content--other-platform":!t.isAndroidNVue},style:{width:t.boxWidth,height:t.boxHeight,backgroundColor:t.styles.backgroundColor},attrs:{elevation:"5"}},[t.flexDirectionStart||t.horizontalLeft?i("div",{staticClass:"press-fab__item press-fab__item--first"}):t._e(),t._l(t.content,(function(o,e){return i("div",{key:e,staticClass:"press-fab__item",class:{"press-fab__item--active":t.isShow},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onItemClick(e,o)}}},[i("img",{staticClass:"press-fab__item-image",attrs:{src:o.active?o.selectedIconPath:o.iconPath,mode:"aspectFit"}}),i("span",{staticClass:"press-fab__item-text",style:{color:o.active?t.styles.selectedColor:t.styles.color}},[t._v(t._s(o.text))])])})),t.flexDirectionEnd||t.horizontalRight?i("div",{staticClass:"press-fab__item press-fab__item--first"}):t._e()],2)]):t._e(),i("div",{staticClass:"press-fab__circle press-fab__plus",class:{"press-fab__content--other-platform":!t.isAndroidNVue},style:{"background-color":t.styles.buttonColor,right:t.btnSwitchPos.x+"px",bottom:t.btnSwitchPos.y+"px"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.onClick.apply(void 0,arguments)},touchstart:function(o){arguments[0]=o=t.$handleEvent(o),t.onTouchStart.apply(void 0,arguments)},touchend:function(o){arguments[0]=o=t.$handleEvent(o),t.onTouchEnd.apply(void 0,arguments)},touchmove:function(o){o.stopPropagation(),o.preventDefault(),arguments[0]=o=t.$handleEvent(o),t.onTouchMove.apply(void 0,arguments)}}},[t._t("default",[i("PressIconPlus",{staticClass:"press-fab-circle-icon",class:{"press-fab__plus--active":t.isShow&&t.content.length>0},attrs:{name:"cross",color:t.styles.iconColor,size:t.styles.iconFontSize}})])],2)])}),h=[],d=i(43639),f=(i(11680),i(2254)),p=i(3211),u={name:"PressFab",components:{PressIconPlus:p.A},props:{pattern:{type:Object,default:function(){return{}}},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0},top:{type:Number,default:0},bottomThreshold:{type:Number,default:20},initX:{type:Number,default:12},initY:{type:Number,default:62}},emits:["fabClick","trigger"],data:function(){var t="other",o={hasMoved:!1,x:0,y:0,startX:0,startY:0,endX:0,endY:0};return{fabShow:!1,isShow:!1,isAndroidNVue:"android"===t,styles:{color:"#3c3e49",selectedColor:"#007AFF",backgroundColor:"#fff",buttonColor:"#007AFF",iconColor:"#fff",iconFontSize:32},btnSwitchPos:{x:0,y:0},fabSize:{width:55,height:55},switchPos:o}},computed:{contentWidth:function(){return"".concat(55*(this.content.length+1)+15,"px")},contentWidthMin:function(){return"55px"},boxWidth:function(){return this.getPosition(3,"horizontal")},boxHeight:function(){return this.getPosition(3,"vertical")},leftBottom:function(){return this.getPosition(0,"left","bottom")},rightBottom:function(){return this.getPosition(0,"right","bottom")},leftTop:function(){return this.getPosition(0,"left","top")},rightTop:function(){return this.getPosition(0,"right","top")},flexDirectionStart:function(){return this.getPosition(1,"vertical","top")},flexDirectionEnd:function(){return this.getPosition(1,"vertical","bottom")},horizontalLeft:function(){return this.getPosition(2,"horizontal","left")},horizontalRight:function(){return this.getPosition(2,"horizontal","right")}},watch:{pattern:{handler:function(t){this.styles=Object.assign({},this.styles,t)},deep:!0}},created:function(){this.isShow=this.show,0===this.top&&(this.fabShow=!0),this.styles=Object.assign({},this.styles,this.pattern),this.btnSwitchPos={x:this.initX,y:this.initY},this.switchPos.x=this.btnSwitchPos.x,this.switchPos.y=this.btnSwitchPos.y},mounted:function(){var t=this;(0,f.l)(this,".press-fab__plus").then((function(o){t.fabSize.width=o.width,t.fabSize.height=o.height}))},methods:{getSwitchButtonSafeAreaXY:function(t,o){var i=this.fabSize,e=this.top,s=this.bottomThreshold,n=(0,f.No)(),c=n.windowWidth,a=n.windowHeight,r=n.windowBottom,l=c,h=a-e;return t>l-i.width&&(t=l-i.width),o>h-i.height&&(o=h-i.height),t<0&&(t=0),o<s+r&&(o=s+r),[t,o]},onClick:function(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open:function(){this.isShow=!0},close:function(){this.isShow=!1},onItemClick:function(t,o){this.isShow&&this.$emit("trigger",{index:t,item:o})},getPosition:function(t,o,i){return 0===t?this.horizontal===o&&this.vertical===i:1===t?this.direction===o&&this.vertical===i:2===t?this.direction===o&&this.horizontal===i:this.isShow&&this.direction===o?this.contentWidth:this.contentWidthMin},onTouchStart:function(t){this.switchPos.startX=t.touches[0].pageX,this.switchPos.startY=t.touches[0].pageY},onTouchEnd:function(){this.switchPos.hasMoved&&(this.switchPos.startX=0,this.switchPos.startY=0,this.switchPos.hasMoved=!1,this.setSwitchPosition(this.switchPos.endX,this.switchPos.endY))},onTouchMove:function(t){if(!(t.touches.length<=0)){var o=t.touches[0].pageX-this.switchPos.startX,i=t.touches[0].pageY-this.switchPos.startY,e=Math.floor(this.switchPos.x-o),s=Math.floor(this.switchPos.y-i),n=this.getSwitchButtonSafeAreaXY(e,s),c=(0,d.A)(n,2);e=c[0],s=c[1],this.btnSwitchPos.x=e,this.btnSwitchPos.y=s,this.switchPos.endX=e,this.switchPos.endY=s,this.switchPos.hasMoved=!0,t.preventDefault(),t.stopPropagation()}},setSwitchPosition:function(t,o){var i=this.getSwitchButtonSafeAreaXY(t,o),e=(0,d.A)(i,2);t=e[0],o=e[1],this.switchPos.x=t,this.switchPos.y=o,this.btnSwitchPos.x=t,this.btnSwitchPos.y=o}}},b=u,g=(i(35360),i(17592)),m=(0,g.A)(b,l,h,!1,null,"c6d1cc62",null,!1,s,n),v=m.exports,w=i(42183),x=i(20152),_=i(98488)["A"],y={i18n:{"zh-CN":{toggleDirection:"切换方向",changeColor:"修改颜色",prompt:"提示",you:"您",image:"相册",home:"首页",star:"收藏",modalContent:function(t,o){return"你".concat(o?"选中了":"取消了").concat(t)}},"en-US":{toggleDirection:"Direction",changeColor:"Color",prompt:"Prompt",selected:"selected",cancelled:"cancelled",you:"You",image:"image",home:"home",star:"star",modalContent:function(t,o){return"You ".concat(o?"selected":"cancelled"," ").concat(t)}}},components:{PressFab:v,PressCell:w.A},data:function(){var t;return{title:"press-fab",horizontal:"right",vertical:"bottom",direction:"horizontal",pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#007AFF",iconColor:"#fff"},is_color_type:!1,content:[{iconPath:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_394e9b73a2b402c417.png",selectedIconPath:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_ddaf193c855d2d4b93.png",text:this.t("image"),active:!1},{iconPath:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_48f3dce2ae13561480.png",selectedIconPath:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_119ad562534f721c7f.png",text:this.t("home"),active:!1},{iconPath:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_069e81d6aae9e308e1.png",selectedIconPath:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_eda1e7d95cb62dc6e1.png",text:this.t("star"),active:!1}],slotInitX:Math.max((null===(t=(0,f.No)())||void 0===t?void 0:t.windowWidth)-66,0)}},onBackPress:function(){return!!this.$refs.fabRef.isShow&&(this.$refs.fabRef.close(),!0)},methods:{trigger:function(t){var o=this,i=this.t,e=this.content;_.log("[trigger] e: ",t),this.content[t.index].active=!t.item.active,uni.showModal({title:i("prompt"),content:this.t("modalContent",t.item.text,e[t.index].active),confirmText:i("confirm"),cancelText:i("cancel"),success:function(t){t.confirm?o.onGTip("confirm"):t.cancel&&o.onGTip("cancel")}})},fabClick:function(){_.log("[fabClick]"),this.onGTip("[click]")},fabClickSlot:function(){_.log("[fabClickSlot]"),this.onGTip("[click]")},switchBtn:function(t,o){var i=this.$refs.fabRef,e=i.onClick,s=i.isShow;s||null===e||void 0===e||e(),0===t?this.direction="horizontal"===this.direction?"vertical":"horizontal":(this.horizontal=t,this.vertical=o),(0,x.$x)(this)},switchColor:function(){this.is_color_type=!this.is_color_type,this.is_color_type?(this.pattern.iconColor="#aaa",this.pattern.buttonColor="#fff"):(this.pattern.iconColor="#fff",this.pattern.buttonColor="#007AFF")}}},P=y,C=(i(25921),(0,g.A)(P,a,r,!1,null,"0d302063",null,!1,e,c)),S=C.exports},94480:function(t,o,i){"use strict";i.r(o);var e=i(10809),s=i.n(e),n=i(34114),c=i.n(n),a=c()(s());a.push([t.id,".button[data-v-0d302063]{margin-bottom:10px}.debug[data-v-0d302063]{color:#fff}",""]),o["default"]=a},56227:function(t,o,i){"use strict";i.r(o);var e=i(10809),s=i.n(e),n=i(34114),c=i.n(n),a=c()(s());a.push([t.id,".press-cursor-point[data-v-c6d1cc62]{cursor:pointer}.press-fab[data-v-c6d1cc62]{position:fixed;display:flex;justify-content:center;align-items:center;z-index:10;border-radius:45px;box-shadow:0 1px 5px 2px rgba(0,0,0,.3)}.press-fab--active[data-v-c6d1cc62]{opacity:1}.press-fab--leftBottom[data-v-c6d1cc62]{left:15px;bottom:30px;left:calc(15px + var(--window-left));bottom:calc(30px + var(--window-bottom))}.press-fab--leftTop[data-v-c6d1cc62]{left:15px;top:30px;left:calc(15px + var(--window-left));top:calc(30px + var(--window-top))}.press-fab--rightBottom[data-v-c6d1cc62]{right:15px;bottom:30px;right:calc(15px + var(--window-right));bottom:calc(30px + var(--window-bottom))}.press-fab--rightTop[data-v-c6d1cc62]{right:15px;top:30px;right:calc(15px + var(--window-right));top:calc(30px + var(--window-top))}.press-fab__circle[data-v-c6d1cc62]{position:fixed;display:flex;justify-content:center;align-items:center;width:55px;height:55px;background-color:#3c3e49;border-radius:45px;z-index:11}.press-fab__circle--leftBottom[data-v-c6d1cc62]{left:15px;bottom:30px;left:calc(15px + var(--window-left));bottom:calc(30px + var(--window-bottom))}.press-fab__circle--leftTop[data-v-c6d1cc62]{left:15px;top:30px;left:calc(15px + var(--window-left));top:calc(30px + var(--window-top))}.press-fab__circle--rightBottom[data-v-c6d1cc62]{right:15px;bottom:30px;right:calc(15px + var(--window-right));bottom:calc(30px + var(--window-bottom))}.press-fab__circle--rightTop[data-v-c6d1cc62]{right:15px;top:30px;right:calc(15px + var(--window-right));top:calc(30px + var(--window-top))}.press-fab__circle--left[data-v-c6d1cc62]{left:0}.press-fab__circle--right[data-v-c6d1cc62]{right:0}.press-fab__circle--top[data-v-c6d1cc62]{top:0}.press-fab__circle--bottom[data-v-c6d1cc62]{bottom:0}.press-fab__plus[data-v-c6d1cc62]{font-weight:700}.press-fab__plus--active[data-v-c6d1cc62]{-webkit-transform:rotate(135deg);transform:rotate(135deg)}.press-fab .press-fab-circle-icon[data-v-c6d1cc62]{-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;font-weight:200}.press-fab__content[data-v-c6d1cc62]{box-sizing:border-box;display:flex;flex-direction:row;border-radius:55px;overflow:hidden;transition-property:width,height;transition-duration:.2s;width:55px;border-color:#ddd;border-width:1px;border-width:.5px;border-style:solid}.press-fab__content--other-platform[data-v-c6d1cc62]{border-width:0;box-shadow:0 1px 5px 2px rgba(0,0,0,.3)}.press-fab__content--left[data-v-c6d1cc62]{justify-content:flex-start}.press-fab__content--right[data-v-c6d1cc62]{justify-content:flex-end}.press-fab__content--flexDirection[data-v-c6d1cc62]{flex-direction:column;justify-content:flex-end}.press-fab__content--flexDirectionStart[data-v-c6d1cc62]{flex-direction:column;justify-content:flex-start}.press-fab__content--flexDirectionEnd[data-v-c6d1cc62]{flex-direction:column;justify-content:flex-end}.press-fab__item[data-v-c6d1cc62]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:55px;height:55px;opacity:0;transition:opacity .2s}.press-fab__item--active[data-v-c6d1cc62]{opacity:1}.press-fab__item-image[data-v-c6d1cc62]{width:20px;height:20px;margin-bottom:4px}.press-fab__item-text[data-v-c6d1cc62]{color:#fff;font-size:12px;line-height:12px;margin-top:2px}.press-fab__item--first[data-v-c6d1cc62]{width:55px}",""]),o["default"]=a}}]);