(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[579],{62148:function(n,t,e){var r=e(11100);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[n.id,r,""]]),r.locals&&(n.exports=r.locals);var o=e(34161).A;o("5c55b7ad",r,!0,{sourceMap:!1,shadowMode:!1})},33990:function(n,t,e){var r=e(52046);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[n.id,r,""]]),r.locals&&(n.exports=r.locals);var o=e(34161).A;o("bfa0b942",r,!0,{sourceMap:!1,shadowMode:!1})},27240:function(n,t,e){"use strict";var r;e.r(t),e.d(t,{default:function(){return N}});var o,i,c,a,s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"demo-wrap",style:n.wrapStyle},[e("press-index-bar",{attrs:{"sticky-offset-top":n.stickyOffsetTop,"window-top":44},on:{select:function(t){arguments[0]=t=n.$handleEvent(t),n.onSelect.apply(void 0,arguments)}}},n._l(n.anchorList,(function(t,r){return e("div",{key:r},[e("press-index-anchor",{attrs:{index:t}}),e("press-cell",{attrs:{title:n.t("text")}}),e("press-cell",{attrs:{title:n.t("text")}}),e("press-cell",{attrs:{title:n.t("text")}})],1)})),0)],1)},u=[],l=(e(30381),e(59353)),d=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"press-index-bar-container"},[e("v-uni-scroll-view",{staticClass:"press-index-bar-wrapper",attrs:{id:"pressIndexBarWrapper",enhanced:!0,"scroll-with-animation":!1,"scroll-y":!0,"scroll-top":n.curScrollTop},on:{scroll:function(t){arguments[0]=t=n.$handleEvent(t),n.onWatchScroll.apply(void 0,arguments)}}},[e("div",{staticClass:"press-index-bar"},[n._t("default")],2)]),n.showSidebar?e("div",{staticClass:"press-index-bar__sidebar",on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=n.$handleEvent(t),n.onClick.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=n.$handleEvent(t),n.onTouchMove.apply(void 0,arguments)},touchend:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.onTouchStop.apply(void 0,arguments)},touchcancel:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=n.$handleEvent(t),n.onTouchStop.apply(void 0,arguments)}}},n._l(n.indexList,(function(t,r){return e("div",{key:r,staticClass:"press-index-bar__index",style:"z-index: "+(n.zIndex+1)+"; color: "+(n.activeAnchorIndex===r?n.highlightColor:""),attrs:{"data-index":r},on:{click:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.onClickInner.apply(void 0,arguments)}}},[n._v(n._s(t))])})),0):n._e()],1)},f=[],h=e(87458),p=(e(60989),e(46686),e(83603),e(26527),e(41681),e(62980),e(36096),e(36389),e(46825),e(77020),e(49723)),v=e(74360),g=e(66962),x=e(58301),m=e(57973),b=e(27927),y=e(43380),w=e(91156),S=e(90916),T=e(12627)["A"],A=function(){for(var n=[],t="A".charCodeAt(0),e=0;e<26;e++)n.push(String.fromCharCode(t+e));return n},k={name:"PressIndexBar",options:(0,h.A)((0,h.A)({},x.KQ),{},{styleIsolation:"shared"}),mixins:[(0,w.G)(m.i0),S.G],props:(0,h.A)({sticky:{type:Boolean,default:!0},zIndex:{type:Number,default:1},highlightColor:{type:String,default:p.AV},stickyOffsetTop:{type:Number,default:0},indexList:{type:Array,default:function(){return A()}},windowTop:{type:Number,default:0}},x.Gs),emits:["select"],data:function(){return{activeAnchorIndex:null,showSidebar:!1,sidebar:{},curScrollTop:0}},created:function(){this.scrollTop=0,this.children=[]},mounted:function(){this.updateData()},methods:{setData:function(n){var t=this;Object.keys(n).forEach((function(e){t[e]=n[e]}))},updateData:function(){var n=this;(0,y.dY)((function(){null!=n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){n.showSidebar=!!n.children.length,(0,y.dY)((function(){n.setRect().then((function(){n.onScroll()}))}))}),0)}))},setRect:function(){return Promise.all([this.setAnchorsRect(),this.setListRect(),this.setSiderbarRect()])},setAnchorsRect:function(){var n=this;return Promise.all(this.children.map((function(t){return(0,v.l)(t,".press-index-anchor-wrapper").then((function(e){return Object.assign(t,{height:e.height,top:e.top+n.scrollTop}),t}))})))},setListRect:function(){var n=this;return(0,v.l)(this,".press-index-bar").then((function(t){(0,g.C8)(t)&&Object.assign(n,{height:t.height,top:t.top+n.scrollTop})}))},setSiderbarRect:function(){var n=this;return(0,v.l)(this,".press-index-bar__sidebar").then((function(t){(0,g.C8)(t)&&(n.sidebar={height:t.height,top:t.top})}))},setDiffData:function(n){var t=n.target,e=n.data,r={};Object.keys(e).forEach((function(n){t[n]!==e[n]&&(r[n]=e[n])})),Object.keys(r).length&&t.setData(r)},getAnchorRect:function(n){return(0,v.l)(n,".press-index-anchor-wrapper").then((function(n){return{height:n.height,top:n.top}}))},getActiveAnchorIndex:function(){for(var n=this.children,t=this.scrollTop,e=this.sticky,r=this.stickyOffsetTop,o=this.children.length-1;o>=0;o--){var i=o>0?n[o-1].height:0,c=e?i+r:this.stickyOffsetTop;if(c+t>=n[o].top)return o}return-1},onScroll:function(n){var t=this;n&&(n.target||n.detail)&&(this.scrollTop=n.target.scrollTop||n.detail.scrollTop);var e=this.children,r=void 0===e?[]:e,o=this.scrollTop;if(r.length){var i=this.sticky,c=this.stickyOffsetTop,a=this.zIndex,s=this.highlightColor,u=this.getActiveAnchorIndex();if(this.setDiffData({target:this,data:{activeAnchorIndex:u}}),i){var l=!1;-1!==u&&(l=r[u].top<=c+o),r.forEach((function(n,e){if(e===u){var o="",i="\n              color: ".concat(s,";\n            ");l&&(o="\n                height: ".concat(r[e].height,"px;\n              "),i="\n                position: fixed;\n                top: ".concat(c,"px;\n                z-index: ").concat(a,";\n                color: ").concat(s,";\n              ")),t.setDiffData({target:n,data:{active:!0,anchorStyle:i,wrapperStyle:o}})}else if(e===u-1){var d=r[e],f=d.top,h=e===r.length-1?t.top:r[e+1].top,p=h-f,v=p-d.height,g="\n              position: relative;\n              transform: translate3d(0, ".concat(v,"px, 0);\n              z-index: ").concat(a,";\n              color: ").concat(s,";\n            ");t.setDiffData({target:n,data:{active:!0,anchorStyle:g}})}else t.setDiffData({target:n,data:{active:!1,anchorStyle:"",wrapperStyle:""}})}))}}},onClick:function(){},onTouchMove:function(n){var t,e=this.children.length,r=n.touches[0],o=this.sidebar.height/e;T.log("[onTouchMove]",r.clientY,this.sidebar.top,this.top),t=Math.floor((r.clientY+this.windowTop-this.sidebar.top)/o),T.log("[onTouchMove]",t),t<0?t=0:t>e-1&&(t=e-1),this.scrollToAnchor(t)},onTouchStop:function(){this.scrollToAnchorIndex=null},scrollToAnchor:function(n){var t=this;if("number"===typeof n&&this.scrollToAnchorIndex!==n){this.scrollToAnchorIndex=n;var e=this.children.find((function(e){return e.index===t.indexList[n]}));void 0!==e&&(T.log("[scrollTop]",this.scrollTop),e.scrollIntoView(this.scrollTop,this.changeScrollerTop),this.$emit("select",e.index))}},onClickInner:function(n){var t,e=null===(t=n.currentTarget)||void 0===t||null===(t=t.dataset)||void 0===t?void 0:t.index;void 0!==e&&(T.log("[index]",e,this.indexList),this.scrollToAnchor(+e))},onWatchScroll:function(n){this.onScroll(n)},changeScrollerTop:function(n){var t,e=(0,b.JP)("pressIndexBarWrapper");T.log("[changeScrollerTop] top",n);var r=null===(t=document)||void 0===t?void 0:t.querySelector(e);r&&(r.scrollTop=n)}}},_=k,I=(e(33990),e(13955)),C=(0,I.A)(_,d,f,!1,null,"2b8afd7c",null,!1,o,i),D=C.exports,O=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{staticClass:"press-index-anchor-wrapper",style:n.wrapperStyle},[e("div",{class:"press-index-anchor "+(n.active?"press-index-anchor--active press-hairline--bottom":""),style:n.anchorStyle},[n.useSlot?n._t("default"):[e("span",[n._v(n._s(n.index))])]],2)])])},E=[],R={name:"PressIndexAnchor",options:(0,h.A)((0,h.A)({},x.KQ),{},{styleIsolation:"shared"}),mixins:[(0,w.b)(m.i0,{indexKey:"tIndex"})],props:(0,h.A)({useSlot:Boolean,index:{type:[Number,String],default:""}},x.Gs),emits:[],data:function(){return{active:!1,wrapperStyle:"",anchorStyle:""}},methods:{setData:function(n){var t=this;Object.keys(n).forEach((function(e){t[e]=n[e]}))},scrollIntoView:function(n,t){var e=this;(0,v.l)(this,".press-index-anchor-wrapper").then((function(r){var o=n+r.top-e[m.i0].stickyOffsetTop;null===t||void 0===t||t(o)}))}}},$=R,B=(e(62148),(0,I.A)($,O,E,!1,null,"59a16f81",null,!1,c,a)),M=B.exports,P=e(12627)["A"];function j(){for(var n=[],t=65;t<91;t++)n.push(String.fromCharCode(t));return n}var Y,z=j(),L={i18n:{"zh-CN":{text:"文本",customIndexList:"自定义索引列表"},"en-US":{text:"Text",customIndexList:"Custom Index List"}},components:{PressCell:l.A,PressIndexBar:D,PressIndexAnchor:M},data:function(){var n="",t=0;return t=44,{anchorList:z,wrapStyle:n,stickyOffsetTop:t}},mounted:function(){},methods:{onSelect:function(n){P.log("[onSelect]: ",n)}}},W=L,H=(0,I.A)(W,s,u,!1,null,"575ff4b8",null,!1,r,Y),N=H.exports},49723:function(n,t,e){"use strict";e.d(t,{AV:function(){return c},Jl:function(){return s},UE:function(){return i},UH:function(){return r},ft:function(){return o},mR:function(){return a}});var r="#ee0a24",o="#1989fa",i="#fff",c="#07c160",a="#323233",s="#969799"},57973:function(n,t,e){"use strict";e.d(t,{U6:function(){return d},W9:function(){return s},ZC:function(){return o},eJ:function(){return u},ho:function(){return c},i0:function(){return l},ib:function(){return a},j_:function(){return f},kN:function(){return i},q1:function(){return h},zI:function(){return r}});var r="checkboxGroup",o="collapse",i="picker",c="radioGroup",a="sidebar",s="tabbar",u="tabs",l="indexBar",d="grid",f="dropdown-menu",h="row"},74360:function(n,t,e){"use strict";e.d(t,{Hj:function(){return u},KY:function(){return d},No:function(){return a},ZA:function(){return s},l:function(){return l}});var r=e(98196),o=(e(83603),e(62980),e(11034),e(27927)),i=e(23924),c=e(43380);function a(){if((0,i.n1)()){var n=Math.min(window.innerWidth,document.documentElement.clientWidth,screen.width),t=Math.min(window.innerHeight,document.documentElement.clientHeight,screen.height);return{windowWidth:n,windowHeight:t,windowTop:0,windowBottom:0}}var e=uni.getSystemInfoSync(),r=e.windowWidth,o=e.windowHeight,c=e.windowTop,a=e.windowBottom;return{windowWidth:r,windowHeight:o,windowTop:c,windowBottom:a}}function s(){if((0,i.n1)())return 0;var n=(0,c.j5)(),t=n.statusBarHeight;return t}function u(n,t){return new Promise((function(e){var r=(0,o.JP)(t),i=n.$el;if(i){var c=i.querySelector(r);return c||e({}),void e({scrollHeight:c.scrollHeight,scrollTop:c.scrollTop})}uni.createSelectorQuery().in(n).select(r).fields({scrollOffset:!0},(function(n){e(n)})).exec()}))}function l(n,t){return new Promise((function(e){var r=n.$el;if(r){var o=r.querySelector(t);o||e({});var i=o.getBoundingClientRect();e(i)}else uni.createSelectorQuery().in(n).select(t).boundingClientRect().exec((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e(n[0])}))}))}function d(n,t){return new Promise((function(e){var o=n.$el;if(o){var i=o.querySelectorAll(t),c=(0,r.A)(i).map((function(n){return n.getBoundingClientRect()}));e(c)}else uni.createSelectorQuery().in(n).selectAll(t).boundingClientRect().exec((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e(n[0])}))}))}},27927:function(n,t,e){"use strict";e.d(t,{JP:function(){return c},Rm:function(){return o},hY:function(){return i}});e(11034),e(65083),e(92031);var r=/scroll|auto|overlay/i;function o(n,t){void 0===t&&(t=window);var e=n;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType&&e!==t){var o=window.getComputedStyle(e),i=o.overflowY;if(r.test(i))return e;e=e.parentNode}return t}function i(n){var t="scrollTop"in n?n.scrollTop:n.pageYOffset;return Math.max(t,0)}function c(n){var t=n;return n.startsWith("#")||(t="#".concat(n)),t="".concat(t," > .uni-scroll-view > .uni-scroll-view"),t}},43380:function(n,t,e){"use strict";e.d(t,{ZX:function(){return d},dY:function(){return i.dY},j5:function(){return s},sd:function(){return l},xi:function(){return u}});e(41681),e(62980),e(46825);var r=e(79501),o=e(23924),i=e(68666),c=e(12627)["A"],a={};function s(){try{var n;Object.keys(a).length||"undefined"===typeof uni||"function"!==typeof(null===(n=uni)||void 0===n?void 0:n.getSystemInfoSync)||(a=uni.getSystemInfoSync())}catch(t){c.log("[getSystemInfoSync] err",t)}return a}function u(n){return setTimeout((function(){n()}),1e3/30)}function l(n,t){(0,r.mf)()&&n.groupSetData?n.groupSetData(t):t()}function d(n){var t=n.selector,e=n.callback,r=n.options;if((0,o.n1)()){var i=new IntersectionObserver(e,r),c=document.querySelectorAll(t);return c.forEach((function(n){i.observe(n)})),!0}return!1}},79501:function(n,t,e){"use strict";e.d(t,{Cu:function(){return c},V8:function(){return u},mf:function(){return s},vW:function(){return a},vk:function(){return l}});e(30381),e(14053);var r=e(43380);function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=n.split("."),r=t.split("."),o=Math.max(e.length,r.length);while(e.length<o)e.push("0");while(r.length<o)r.push("0");for(var i=0;i<o;i++){var c=parseInt(e[i],10),a=parseInt(r[i],10);if(c>a)return 1;if(c<a)return-1}return 0}function i(n){var t=(0,r.j5)();return o(t.SDKVersion,n)>=0}function c(){return i("2.9.3")}function a(){return i("2.10.3")}function s(){return i("2.4.0")}function u(){return i("2.9.0")}function l(){var n=!1;return n}},68666:function(n,t,e){"use strict";e.d(t,{$x:function(){return f},VP:function(){return h},Z_:function(){return l},dY:function(){return s},iU:function(){return u},l_:function(){return d},mT:function(){return a},xk:function(){return p}});var r=e(98196),o=e(21572),i=(e(60989),e(62980),e(46825),e(98445));function c(n){var t=n;return Array.isArray(t)||(t=[n]),t}function a(n,t){var e=c(n);e.forEach((function(n){var t=n.name,e=n.prop;i.l.prototype[t]=e}))}function s(n){i.l.nextTick(n)}function u(n,t){var e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=new(i.l.extend(t))({el:n,propsData:r}),e}function l(n){return{provide:function(){return(0,o.A)({},n,this)}}}function d(n){return{inject:(0,o.A)({},n,{default:null})}}function f(n){n.$forceUpdate()}var h={props:{value:{type:[String,Boolean],default:""}},computed:{realModelValue:function(){var n="";return n=this.value,n}},methods:{emitModelValue:function(n){this.$emit("input",n)}}};function p(n){i.l.config.ignoredElements=[].concat((0,r.A)(i.l.config.ignoredElements||[]),(0,r.A)(n))}},91156:function(n,t,e){"use strict";e.d(t,{b:function(){return s},G:function(){return u}});var r=e(98196),o=e(21572);e(60989),e(9555),e(63051),e(62980),e(83603),e(30381),e(41669),e(46825);function i(n){var t=[];function e(n){n.forEach((function(n){t.push(n),n.componentInstance&&e(n.componentInstance.$children.map((function(n){return n.$vnode}))),n.children&&e(n.children)}))}return e(n),t}function c(n,t){var e=t.$vnode.componentOptions;if(null!==e&&void 0!==e&&e.children){var r=i(e.children);n.sort((function(n,t){return r.indexOf(n.$vnode)-r.indexOf(t.$vnode)}))}}var a=e(12627)["A"];function s(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.indexKey||"index";return{inject:(0,o.A)({},n,{default:null}),computed:(0,o.A)({},e,(function(){var t=this;return t.bindRelation(),t[n]?t[n].children.indexOf(this):null})),watch:{disableBindRelation:function(n){var t=this;n||t.bindRelation()}},created:function(){},mounted:function(){var n=this;n.bindRelation()},beforeDestroy:function(){var n=this;n.onBeforeMount()},methods:{bindRelation:function(){if(this[n]&&-1===this[n].children.indexOf(this)){var t=[].concat((0,r.A)(this[n].children),[this]);try{c(t,this[n])}catch(e){a.log("err",e)}this[n].children=t}},onBeforeMount:function(){var t,e=this;e[n]&&(e[n].children=e[n].children.filter((function(n){return n!==e})),null===e||void 0===e||null===(t=e.destroyCallback)||void 0===t||t.call(e))}}}}function u(n){return{provide:function(){return(0,o.A)({},n,this)},data:function(){return{}}}}},11100:function(n,t,e){"use strict";e.r(t);var r=e(9157),o=e.n(r),i=e(82294),c=e.n(i),a=c()(o());a.push([n.id,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.press-hairline--bottom[data-v-59a16f81]{position:relative}.press-hairline--bottom[data-v-59a16f81]:after{border:0 solid #ebedf0;bottom:-50%;box-sizing:border-box;content:" ";left:-50%;pointer-events:none;position:absolute;right:-50%;top:-50%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:center;transform-origin:center;border-bottom-width:1px}\n/* color */.press-index-anchor[data-v-59a16f81]{padding:var(--index-anchor-padding,0 16px);color:var(--index-anchor-text-color,#323233);font-weight:var(--index-anchor-font-weight,500);font-size:var(--index-anchor-font-size,14px);line-height:var(--index-anchor-line-height,32px);background-color:var(--index-anchor-background-color,transparent)}.press-index-anchor--active[data-v-59a16f81]{right:0;left:0;color:var(--index-anchor-active-text-color,#07c160);background-color:var(--index-anchor-active-background-color,#fff)}',""]),t["default"]=a},52046:function(n,t,e){"use strict";e.r(t);var r=e(9157),o=e.n(r),i=e(82294),c=e.n(i),a=c()(o());a.push([n.id,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* color */.press-index-bar-container[data-v-2b8afd7c],\n.press-index-bar-wrapper[data-v-2b8afd7c]{height:100%}.press-index-bar[data-v-2b8afd7c]{position:relative}.press-index-bar__sidebar[data-v-2b8afd7c]{position:fixed;top:50%;right:0;display:flex;flex-direction:column;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;user-select:none}.press-index-bar__index[data-v-2b8afd7c]{font-weight:500;padding:0 var(--padding-base,4px) 0 var(--padding-md,16px);font-size:var(--index-bar-index-font-size,10px);line-height:var(--index-bar-index-line-height,14px)}',""]),t["default"]=a}}]);