(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[6775],{85391:function(t,e,r){var a=r(26680);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var i=r(69898).A;i("0c7e2ecd",a,!0,{sourceMap:!1,shadowMode:!1})},20882:function(t,e,r){"use strict";var a;r.r(e),r.d(e,{default:function(){return S}});var i,n,s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"demo-wrap"},[r("demo-block",{attrs:{title:t.t("basicUsage")}},[r("PressBarrage",{model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[r("div",{staticClass:"video",staticStyle:{width:"100%",height:"150px",background:"#f2f3f5"}})]),r("PressButton",{attrs:{type:"primary",size:"small","custom-style":"margin-top: 10px;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}},[t._v("弹幕")])],1),r("demo-block",{attrs:{title:t.t("videoBarrage")}},[r("PressBarrage",{ref:"pressBarrage",attrs:{"auto-play":!1},model:{value:t.videoList,callback:function(e){t.videoList=e},expression:"videoList"}},[r("div",{staticClass:"video",staticStyle:{width:"100%",height:"150px",background:"#f2f3f5"}})]),r("div",[r("PressButton",{attrs:{type:"primary",size:"small",disabled:!t.isPlay,"custom-style":"margin-top: 10px;margin-right: 10px;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.videoAdd.apply(void 0,arguments)}}},[t._v("弹幕")]),r("PressButton",{attrs:{type:"default",size:"small","custom-style":"margin-top: 10px;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggle.apply(void 0,arguments)}}},[t._v(t._s(t.isPlay?t.t("pause"):t.t("play")))])],1)],1)],1)},o=[],u=r(47735),l=(r(174),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"barrageWrapper",staticClass:"press-barrage",style:t.barrageStyle,attrs:{id:t.barrageId}},[t._t("default")],2)}),c=[],f=(r(50524),r(76672),r(15186),r(16206),r(34190),r(25869),r(11680),r(98127),r(824),r(13740),r(71292),r(32033),r(55026),r(6344),r(56389),r(32705)),d=(r(93033),r(62811),"press-barrage__item"),p=0,h={name:"PressBarrage",mixins:[(0,f.Lz)({type:[Array],defaultValue:function(){return[]}})],props:{autoPlay:{type:Boolean,default:!0},rows:{type:[Number,String],default:4},top:{type:[Number,String],default:10},duration:{type:[Number,String],default:4e3},delay:{type:Number,default:300},itemHeight:{type:Number,default:26}},data:function(){return{isInitBarrage:!0,barrageItems:[],isPlay:!1,total:0,barrageStyle:"",barrageId:""}},computed:{},watch:{realModelValue:{handler:function(t,e){this.updateBarrages(t,e)},deep:!0}},mounted:function(){var t=this;p+=1,this.barrageId="press-barrage-".concat(p),setTimeout((function(){t.init()}))},methods:{init:function(){var t=this,e=function(){setTimeout((function(){t.updateBarrages(t.realModelValue,[])}))},r=this.$refs.barrageWrapper.offsetWidth;this.barrageStyle="--move-distance: -".concat(r,"px"),e()},play:function(){this.isPlay=!0,this.barrageItems.forEach((function(t){t.style.animationPlayState="running"}))},pause:function(){this.isPlay=!1,this.barrageItems.forEach((function(t){t.style.animationPlayState="paused"}))},createBarrageItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.delay,r={};return r=document.createElement("span"),r.style.animationDuration="".concat(this.duration,"ms"),r.style.animationDelay="".concat(e,"ms"),r.style.animationTimingFunction="linear",r.className=d,r.innerText=String(t),r},appendBarrageItem:function(t,e){var r,a=this,i=t.id,n=t.text,s=this.createBarrageItem(n,this.isInitBarrage?e*this.delay:void 0);this.autoPlay||!1!==this.isPlay||(s.style.animationPlayState="paused"),null===(r=this.$refs.barrageWrapper)||void 0===r||r.append(s),this.total+=1;var o=this.itemHeight;o=s.offsetHeight;var l=(this.total-1)%+this.rows*o+ +this.top;s.style.top="".concat(l,"px"),s.id=String(i),this.barrageItems.push(s),s.addEventListener("animationend",(function(){a.emitModelValue((0,u.A)(a.realModelValue).filter((function(t){return String(t.id)!==s.id})))}))},animationend:function(t){this.emitModelValue((0,u.A)(this.realModelValue).filter((function(e){return String(e.id)!==t.id})))},updateBarrages:function(t,e){var r=this,a=new Map(e.map((function(t){return[t.id,t]})));t.forEach((function(t,e){a.has(t.id)?a.delete(t.id):r.appendBarrageItem(t,e)})),a.forEach((function(t){var e=r.barrageItems.findIndex((function(e){return e.id===String(t.id)}));e>-1&&(r.barrageItems[e].remove(),r.barrageItems.splice(e,1))})),this.isInitBarrage=!1}}},v=h,g=(r(85391),r(17592)),m=(0,g.A)(v,l,c,!1,null,"c63476b6",null,!1,i,n),b=m.exports,y=r(36655),x=r(48462);function w(t,e,r){return x.l.set(t,e,r),t}var k,B={i18n:{"zh-CN":{barrage:"弹幕",play:"开始",pause:"暂停",videoBarrage:"模仿视频弹幕",lightweight:"轻量",customizable:"可定制的",mobile:"移动端",library:"组件库"},"en-US":{barrage:"barrage",play:"play",pause:"pause",videoBarrage:"Imitate video barrage",lightweight:"Lightweight",customizable:"Customizable",mobile:"Mobile",library:"Library"}},components:{PressBarrage:b,PressButton:y.A},data:function(){var t=[{id:100,text:this.t("lightweight")},{id:101,text:this.t("customizable")},{id:102,text:this.t("mobile")},{id:103,text:"Vue"},{id:104,text:this.t("library")},{id:105,text:"PressUI"},{id:106,text:"666"}];return{list:t,videoList:[].concat(t),isPlay:!1}},watch:{isPlay:{handler:function(t){var e,r;t?null===(e=this.$refs.pressBarrage)||void 0===e||e.play():null===(r=this.$refs.pressBarrage)||void 0===r||r.pause()}}},methods:{add:function(){w(this,"list",[].concat((0,u.A)(this.list),[{id:Math.random(),text:"Barrage"}]))},videoAdd:function(){w(this,"videoList",[].concat((0,u.A)(this.videoList),[{id:Math.random(),text:"Barrage"}]))},toggle:function(){this.isPlay=!this.isPlay}}},P=B,I=(0,g.A)(P,s,o,!1,null,"22348c4a",null,!1,a,k),S=I.exports},26680:function(t,e,r){"use strict";r.r(e);var a=r(10809),i=r.n(a),n=r(34114),s=r.n(n),o=s()(i());o.push([t.id,".press-barrage[data-v-c63476b6]{position:relative;overflow:hidden}[data-v-c63476b6] .press-barrage__item{position:absolute;top:0;right:0;z-index:99;padding-bottom:var(--press-barrage-space,10px);opacity:.75;line-height:1;font-size:var(--press-barrage-font-size,16px);font-family:var(--press-barrage-font,inherit);font-weight:700;white-space:nowrap;color:var(--press-barrage-color,var(--press-white,#fff));text-shadow:1px 0 1px #000,0 1px 1px #000,0 -1px 1px #000,-1px 0 1px #000;-webkit-user-select:none;user-select:none;will-change:transform;-webkit-transform:translateX(110%);transform:translateX(110%);-webkit-animation-name:press-barrage-data-v-c63476b6;animation-name:press-barrage-data-v-c63476b6}@-webkit-keyframes press-barrage-data-v-c63476b6{from{-webkit-transform:translateX(110%);transform:translateX(110%)}to{-webkit-transform:translateX(var(--move-distance));transform:translateX(var(--move-distance))}}@keyframes press-barrage-data-v-c63476b6{from{-webkit-transform:translateX(110%);transform:translateX(110%)}to{-webkit-transform:translateX(var(--move-distance));transform:translateX(var(--move-distance))}}",""]),e["default"]=o},26008:function(t,e,r){"use strict";var a=r(46915);t.exports=a((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},79358:function(t,e,r){"use strict";var a=r(5684),i=r(98998),n=r(49707),s=r(50908),o=r(75131),u=r(90369),l=r(51152),c=r(54612),f=r(51677),d=r(87101),p=r(73968),h=r(64775).fastKey,v=r(40161),g=v.set,m=v.getterFor;t.exports={getConstructor:function(t,e,r,c){var f=t((function(t,i){o(t,d),g(t,{type:e,index:a(null),first:null,last:null,size:0}),p||(t.size=0),u(i)||l(i,t[c],{that:t,AS_ENTRIES:r})})),d=f.prototype,v=m(e),b=function(t,e,r){var a,i,n=v(t),s=y(t,e);return s?s.value=r:(n.last=s={index:i=h(e,!0),key:e,value:r,previous:a=n.last,next:null,removed:!1},n.first||(n.first=s),a&&(a.next=s),p?n.size++:t.size++,"F"!==i&&(n.index[i]=s)),t},y=function(t,e){var r,a=v(t),i=h(e);if("F"!==i)return a.index[i];for(r=a.first;r;r=r.next)if(r.key===e)return r};return n(d,{clear:function(){var t=this,e=v(t),r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=null),r=r.next;e.first=e.last=null,e.index=a(null),p?e.size=0:t.size=0},delete:function(t){var e=this,r=v(e),a=y(e,t);if(a){var i=a.next,n=a.previous;delete r.index[a.index],a.removed=!0,n&&(n.next=i),i&&(i.previous=n),r.first===a&&(r.first=i),r.last===a&&(r.last=n),p?r.size--:e.size--}return!!a},forEach:function(t){var e,r=v(this),a=s(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:r.first){a(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!y(this,t)}}),n(d,r?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),p&&i(d,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(t,e,r){var a=e+" Iterator",i=m(e),n=m(a);c(t,e,(function(t,e){g(this,{type:a,target:t,state:i(t),kind:e,last:null})}),(function(){var t=n(this),e=t.kind,r=t.last;while(r&&r.removed)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?f("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=null,f(void 0,!0))}),r?"entries":"values",!r,!0),d(e)}}},44552:function(t,e,r){"use strict";var a=r(16922),i=r(40452),n=r(7812),s=r(96824),o=r(20420),u=r(64775),l=r(51152),c=r(75131),f=r(24241),d=r(90369),p=r(82054),h=r(46915),v=r(48216),g=r(51699),m=r(50947);t.exports=function(t,e,r){var b=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),x=b?"set":"add",w=i[t],k=w&&w.prototype,B=w,P={},I=function(t){var e=n(k[t]);o(k,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(y&&!p(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return y&&!p(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(y&&!p(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})},S=s(t,!f(w)||!(y||k.forEach&&!h((function(){(new w).entries().next()}))));if(S)B=r.getConstructor(e,t,b,x),u.enable();else if(s(t,!0)){var z=new B,_=z[x](y?{}:-0,1)!==z,E=h((function(){z.has(1)})),A=v((function(t){new w(t)})),M=!y&&h((function(){var t=new w,e=5;while(e--)t[x](e,e);return!t.has(-0)}));A||(B=e((function(t,e){c(t,k);var r=m(new w,t,B);return d(e)||l(e,r[x],{that:r,AS_ENTRIES:b}),r})),B.prototype=k,k.constructor=B),(E||M)&&(I("delete"),I("has"),b&&I("get")),(M||_)&&I(x),y&&k.clear&&delete k.clear}return P[t]=B,a({global:!0,constructor:!0,forced:B!==w},P),g(B,t),y||r.setStrong(B,t,b),B}},80444:function(t,e,r){"use strict";var a=r(46915);t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},64775:function(t,e,r){"use strict";var a=r(16922),i=r(7812),n=r(9913),s=r(82054),o=r(34525),u=r(84869).f,l=r(22828),c=r(83070),f=r(8e4),d=r(53796),p=r(80444),h=!1,v=d("meta"),g=0,m=function(t){u(t,v,{value:{objectID:"O"+g++,weakData:{}}})},b=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,v)){if(!f(t))return"F";if(!e)return"E";m(t)}return t[v].objectID},y=function(t,e){if(!o(t,v)){if(!f(t))return!0;if(!e)return!1;m(t)}return t[v].weakData},x=function(t){return p&&h&&f(t)&&!o(t,v)&&m(t),t},w=function(){k.enable=function(){},h=!0;var t=l.f,e=i([].splice),r={};r[v]=1,t(r).length&&(l.f=function(r){for(var a=t(r),i=0,n=a.length;i<n;i++)if(a[i]===v){e(a,i,1);break}return a},a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},k=t.exports={enable:w,fastKey:b,getWeakData:y,onFreeze:x};n[v]=!0},8e4:function(t,e,r){"use strict";var a=r(46915),i=r(82054),n=r(81788),s=r(26008),o=Object.isExtensible,u=a((function(){o(1)}));t.exports=u||s?function(t){return!!i(t)&&((!s||"ArrayBuffer"!==n(t))&&(!o||o(t)))}:o},44079:function(t,e,r){"use strict";var a=r(44552),i=r(79358);a("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},25869:function(t,e,r){"use strict";r(44079)}}]);