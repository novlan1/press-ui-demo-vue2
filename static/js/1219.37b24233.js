(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[1219],{62804:function(t,e,r){var n=r(62924);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var i=r(34161).A;i("ad3444fe",n,!0,{sourceMap:!1,shadowMode:!1})},91219:function(t,e,r){"use strict";var n;r.d(e,{A:function(){return z}});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{ref:"sticky",staticClass:"press-sticky",class:t.customClass,style:t.containerStyle},[r("div",{class:t.wrapClass,style:t.wrapStyle},[t._t("default")],2)])])},o=[],s=r(84291),a=r(87458),c=(r(91911),r(26527),r(41681),r(62980),r(36389),r(46825),r(77020),r(8208)),l=r(6132),d=r(22389);function f(t){return(0,l.iF)({height:t.fixed?(0,d._V)(t.height):"","z-index":t.zIndex})}function u(t){return(0,l.iF)({transform:t.transform?"translate3d(0, ".concat(t.transform,"px, 0)"):"",top:t.fixed?(0,d._V)(t.offsetTop):"","z-index":t.zIndex})}var h={containerStyle:f,wrapStyle:u},p=r(48212),v=r(73640),w=r(76455);r(9555),r(30381);function m(){var t=getCurrentPages();return t[t.length-1]}function g(t){var e=m(),r=e.pressPageScroller,n=void 0===r?[]:r;n.forEach((function(e){"function"===typeof e&&e(t)}))}var x,b=function(t){return{created:function(){var e=m();(0,w.C8)(e)&&(Array.isArray(e.pressPageScroller)?e.pressPageScroller.push(t.bind(this)):e.pressPageScroller="function"===typeof e.onPageScroll?[e.onPageScroll.bind(e),t.bind(this)]:[t.bind(this)],e.onPageScroll=g)},destroy:function(){var e,r=m();(0,w.C8)(r)&&(r.pressPageScroller=(null===(e=r.pressPageScroller)||void 0===e?void 0:e.filter((function(e){return e!==t})))||[])}}},y=r(8232),S=r(68507),T=r(29595),D=r(12627)["A"],A=".press-sticky",k=(b((function(t){null===this.scrollTop&&this.onScroll(t)})),{name:"PressSticky",options:(0,a.A)({},T.KQ),mixins:[(0,y.x)((function(t){this.scroller||(this.scroller=(0,S.Rm)(this.$el)),t(this.scroller,"scroll",this.onScroll,!0),t(this.scroller,"touchmove",this.onScroll,!0),this.onScroll()}))],props:(0,a.A)((0,a.A)({},T.Gs),{},{zIndex:{type:Number,default:99},offsetTop:{type:Number,default:0},disabled:{type:Boolean},container:{type:[Function,null],default:null},scrollTop:{type:[Number,null],default:null}}),emits:["scroll"],data:function(){return{height:0,fixed:!1,transform:0,scrollTopData:this.scrollTop}},computed:{containerStyle:function(){var t=this.fixed,e=this.height,r=this.zIndex,n=h.containerStyle({fixed:t,height:e,zIndex:r});return n},wrapStyle:function(){var t=this.fixed,e=this.offsetTop,r=this.transform,n=this.zIndex,i=h.wrapStyle({fixed:t,offsetTop:e,transform:r,zIndex:n});return i},wrapClass:function(){var t=this.fixed;return c.Ay.bem2("sticky-wrap",{fixed:t})}},watch:{offsetTop:{handler:function(){this.onScroll()}},disabled:{handler:function(){this.onScroll()}},container:{handler:function(){this.onScroll()}},scrollTop:{handler:function(t){this.onScroll({scrollTop:t}),this.scrollTopData=t}}},created:function(){},mounted:function(){this.scrollTopData=this.scrollTop,this.onScroll()},methods:{setData:function(t){var e=this;Object.keys(t).forEach((function(r){e[r]=t[r]}))},onScroll:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.scrollTop,n=this.container,i=this.offsetTop,o=this.disabled;o?this.setDataAfterDiff({fixed:!1,transform:0}):(this.scrollTopData=r||this.scrollTopData,"function"===typeof n&&n()?Promise.all([(0,p.l)(this,A),this.getContainerRect()]).then((function(e){var r=(0,s.A)(e,2),n=r[0],o=r[1];n&&o&&i+n.height>o.height+o.top?t.setDataAfterDiff({fixed:!1,transform:o.height-n.height}):n&&i>=n.top?t.setDataAfterDiff({fixed:!0,height:n.height,transform:0}):t.setDataAfterDiff({fixed:!1,transform:0})})).catch((function(t){D.warn("error",t)})):(0,p.l)(this,A).then((function(e){(0,w.C8)(e)&&(i>=e.top?(t.setDataAfterDiff({fixed:!0,height:e.height}),t.transform=0):t.setDataAfterDiff({fixed:!1}))})))},setDataAfterDiff:function(t){var e=this;(0,v.dY)((function(){var r=Object.keys(t).reduce((function(r,n){return t[n]!==e[n]&&(r[n]=t[n]),r}),{});Object.keys(r).length>0&&e.setData(r),e.$emit("scroll",{scrollTop:e.scrollTopData,isFixed:t.fixed||e.fixed})}))},getContainerRect:function(){var t,e=this.container(),r=e.getBoundingClientRect();return t=Promise.resolve(r),t}}}),C=k,P=(r(62804),r(13955)),_=(0,P.A)(C,i,o,!1,null,"42cc46d8",null,!1,n,x),z=_.exports},48212:function(t,e,r){"use strict";r.d(e,{Hj:function(){return l},KY:function(){return f},No:function(){return a},ZA:function(){return c},l:function(){return d}});var n=r(98196),i=(r(83603),r(62980),r(11034),r(68507)),o=r(8208),s=r(73640);function a(){if((0,o.n1)()){var t=Math.min(window.innerWidth,document.documentElement.clientWidth,screen.width),e=Math.min(window.innerHeight,document.documentElement.clientHeight,screen.height);return{windowWidth:t,windowHeight:e,windowTop:0,windowBottom:0}}var r=uni.getSystemInfoSync(),n=r.windowWidth,i=r.windowHeight,s=r.windowTop,a=r.windowBottom;return{windowWidth:n,windowHeight:i,windowTop:s,windowBottom:a}}function c(){if((0,o.n1)())return 0;var t=(0,s.j5)(),e=t.statusBarHeight;return e}function l(t,e){return new Promise((function(r){var n=(0,i.JP)(e),o=t.$el;if(o){var s=o.querySelector(n);return s||r({}),void r({scrollHeight:s.scrollHeight,scrollTop:s.scrollTop})}uni.createSelectorQuery().in(t).select(n).fields({scrollOffset:!0},(function(t){r(t)})).exec()}))}function d(t,e){return new Promise((function(r){var n=t.$el;if(n){var i=n.querySelector(e);i||r({});var o=i.getBoundingClientRect();r(o)}else uni.createSelectorQuery().in(t).select(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r(t[0])}))}))}function f(t,e){return new Promise((function(r){var i=t.$el;if(i){var o=i.querySelectorAll(e),s=(0,n.A)(o).map((function(t){return t.getBoundingClientRect()}));r(s)}else uni.createSelectorQuery().in(t).selectAll(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(t[0])}))}))}},68507:function(t,e,r){"use strict";r.d(e,{JP:function(){return s},Rm:function(){return i},hY:function(){return o}});r(11034),r(65083),r(92031);var n=/scroll|auto|overlay/i;function i(t,e){void 0===e&&(e=window);var r=t;while(r&&"HTML"!==r.tagName&&"BODY"!==r.tagName&&1===r.nodeType&&r!==e){var i=window.getComputedStyle(r),o=i.overflowY;if(n.test(o))return r;r=r.parentNode}return e}function o(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function s(t){var e=t;return t.startsWith("#")||(e="#".concat(t)),e="".concat(e," > .uni-scroll-view > .uni-scroll-view"),e}},8232:function(t,e,r){"use strict";r.d(e,{x:function(){return o}});var n=r(64588),i=0;function o(t){var e="binded_".concat(i);function r(){var r=this;r[e]||(t.call(r,n.on,!0),r[e]=!0)}function o(){var r=this;r[e]&&(t.call(r,n.AU,!1),r[e]=!1)}return i+=1,{mounted:r,activated:r,deactivated:o,beforeDestroy:o}}},62924:function(t,e,r){"use strict";r.r(e);var n=r(9157),i=r.n(n),o=r(82294),s=r.n(o),a=s()(i());a.push([t.id,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.press-ellipsis[data-v-42cc46d8]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.press-multi-ellipsis--l2[data-v-42cc46d8]{-webkit-line-clamp:2}.press-multi-ellipsis--l2[data-v-42cc46d8],\n.press-multi-ellipsis--l3[data-v-42cc46d8]{-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden;text-overflow:ellipsis}.press-multi-ellipsis--l3[data-v-42cc46d8]{-webkit-line-clamp:3}.press-clearfix[data-v-42cc46d8]:after{clear:both;content:"";display:table}.press-hairline[data-v-42cc46d8],\n.press-hairline--bottom[data-v-42cc46d8],\n.press-hairline--left[data-v-42cc46d8],\n.press-hairline--right[data-v-42cc46d8],\n.press-hairline--surround[data-v-42cc46d8],\n.press-hairline--top[data-v-42cc46d8],\n.press-hairline--top-bottom[data-v-42cc46d8]{position:relative}.press-hairline--bottom[data-v-42cc46d8]:after,\n.press-hairline--left[data-v-42cc46d8]:after,\n.press-hairline--right[data-v-42cc46d8]:after,\n.press-hairline--surround[data-v-42cc46d8]:after,\n.press-hairline--top-bottom[data-v-42cc46d8]:after,\n.press-hairline--top[data-v-42cc46d8]:after,\n.press-hairline[data-v-42cc46d8]:after{border:0 solid #ebedf0;bottom:-50%;box-sizing:border-box;content:" ";left:-50%;pointer-events:none;position:absolute;right:-50%;top:-50%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:center;transform-origin:center}.press-hairline--top[data-v-42cc46d8]:after{border-top-width:1px}.press-hairline--left[data-v-42cc46d8]:after{border-left-width:1px}.press-hairline--right[data-v-42cc46d8]:after{border-right-width:1px}.press-hairline--bottom[data-v-42cc46d8]::after{border-bottom-width:1px}.press-hairline--top-bottom[data-v-42cc46d8]::after{border-width:1px 0}.press-hairline--surround[data-v-42cc46d8]::after{border-width:1px}.press-sticky[data-v-42cc46d8]{position:relative}.press-sticky-wrap--fixed[data-v-42cc46d8]{position:fixed;right:0;left:0}',""]),e["default"]=a}}]);